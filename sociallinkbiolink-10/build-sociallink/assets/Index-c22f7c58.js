import{s as $,o as A,T as I,r as M,a as N,c as u,b as t,d as i,t as e,u as s,F as h,e as V,f as F,w as v,g as _,v as f,h as g,i as c,j as o,n as T,O as U}from"./app-ea7ca92b.js";import{_ as B,a as w}from"./SpinnerBtn-5f942d18.js";import{_ as E}from"./PageHeader-5a9828b9.js";import{_ as j,h as O}from"./moment-33745971.js";import{d as p}from"./drawer-fe4c5e1a.js";import{_ as q}from"./NoDataFound-b1b3c01b.js";import{_ as y}from"./InputFieldError-88a28532.js";const z={class:"container p-4 sm:p-6"},H={class:"space-y-6"},L={class:"table-responsive whitespace-nowrap rounded-primary"},P={class:"table"},R={class:"text-right"},Y={key:0},G={class:"flex items-center gap-1"},J=["src"],K={class:"text-left"},Q={class:"text-left"},W={class:""},X={class:"dropdown","data-placement":"bottom-start"},Z={class:"dropdown-toggle"},tt={class:"dropdown-content w-40"},st={class:"dropdown-list"},et={class:"dropdown-list-item"},ot=["onClick"],at={class:"dropdown-list-item"},lt=["onClick"],nt={id:"addNewCategoryDrawer",class:"drawer drawer-right"},it={class:"drawer-header"},dt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},rt={class:"drawer-body"},ct={class:"mb-1"},ut={class:"label mb-1"},_t={class:"mb-1"},pt={class:"label mb-1"},mt={class:"mb-1"},bt={class:"label mb-1"},ht={value:"1"},vt={value:"0"},ft={class:"drawer-footer"},gt={class:"flex gap-2"},wt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},yt={id:"editCategoryDrawer",class:"drawer drawer-right"},kt={class:"drawer-header"},xt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Ct={class:"drawer-body"},Dt={class:"mb-2"},St={class:"label mb-2"},$t={class:"mb-2"},At={class:"label mb-2"},It={class:"mb-2"},Mt={class:"label mb-2"},Nt={value:"1"},Vt={value:"0"},Ft={class:"drawer-footer"},Tt={class:"flex gap-2"},Ut={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Lt=Object.assign({layout:B},{__name:"Index",props:["categories","languages"],setup(m){const{deleteRow:k}=$();A(()=>{p.init()});const d=I({title:"",status:1,icon:null}),x=()=>{d.post(route("admin.sociallink.profession.store"),{onSuccess:()=>{d.reset(),p.of("#addNewCategoryDrawer").hide()}})},n=M({}),C=b=>{n.value={...b},p.of("#editCategoryDrawer").show()},D=()=>{n.value.preview instanceof File||(n.value.preview=null),U.post(route("admin.sociallink.profession.update",n.value.id),{_method:"PATCH",category:n.value},{onSuccess:()=>{n.value={},p.of("#editCategoryDrawer").hide()}})};return(b,l)=>{const r=N("Icon");return c(),u(h,null,[t("main",z,[i(E),t("div",H,[t("div",L,[t("table",P,[t("thead",null,[t("tr",null,[t("th",null,e(s(o)("Name")),1),t("th",null,e(s(o)("Slug")),1),t("th",null,e(s(o)("Status")),1),t("th",null,e(s(o)("Created At")),1),t("th",null,[t("p",R,e(s(o)("Action")),1)])])]),m.categories.total?(c(),u("tbody",Y,[(c(!0),u(h,null,V(m.categories.data,a=>(c(),u("tr",{key:a.id},[t("td",null,[t("div",G,[t("img",{src:a.icon,alt:"icon",class:"w-12 object-cover"},null,8,J),t("span",null,e(a.title),1)])]),t("td",K,e(a.slug),1),t("td",Q,[t("span",{class:T(["badge",a.status==1?"badge-success":"badge-danger"])},e(a.status==1?s(o)("Active"):s(o)("Draft")),3)]),t("td",null,e(s(O)(a.created_at).format("D-MMM-Y")),1),t("td",W,[t("div",X,[t("div",Z,[i(r,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",tt,[t("ul",st,[t("li",et,[t("button",{onClick:S=>C(a),class:"dropdown-link"},[i(r,{icon:"fe:edit"}),t("span",null,e(s(o)("Edit")),1)],8,ot)]),t("li",at,[t("button",{as:"button",class:"dropdown-link",onClick:S=>s(k)(b.route("admin.brand-categories.destroy",a.id))},[i(r,{icon:"fe:trash"}),t("span",null,e(s(o)("Delete")),1)],8,lt)])])])])])]))),128))])):(c(),F(q,{key:1,"for-table":"true"}))]),i(j,{links:m.categories.links},null,8,["links"])])])]),t("div",nt,[t("form",{onSubmit:l[3]||(l[3]=v(a=>x(),["prevent"]))},[t("div",it,[t("h5",null,e(s(o)("Add New Category")),1),t("button",dt,[i(r,{class:"text-xl",icon:"mdi:close"})])]),t("div",rt,[t("div",ct,[t("label",ut,e(s(o)("Title")),1),_(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>s(d).title=a),type:"text",name:"title",class:"input"},null,512),[[f,s(d).title]]),i(y,{message:s(d).errors.title},null,8,["message"])]),t("div",_t,[t("label",pt,e(s(o)("Icon")),1),t("input",{onInput:l[1]||(l[1]=a=>s(d).icon=a.target.files[0]),type:"file",name:"icon",class:"input",accept:"image/*"},null,32),i(y,{message:s(d).errors.icon},null,8,["message"])]),t("div",mt,[t("label",bt,e(s(o)("Status")),1),_(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=a=>s(d).status=a),class:"select",name:"status"},[t("option",ht,e(s(o)("Active")),1),t("option",vt,e(s(o)("Draft")),1)],512),[[g,s(d).status]])])]),t("div",ft,[t("div",gt,[t("button",wt,[t("span",null,e(s(o)("Close")),1)]),i(w,{classes:"btn btn-primary w-full",processing:s(d).processing,"btn-text":s(o)("Create")},null,8,["processing","btn-text"])])])],32)]),t("div",yt,[t("form",{onSubmit:l[7]||(l[7]=v(a=>D(),["prevent"]))},[t("div",kt,[t("h5",null,e(s(o)("Edit Category")),1),t("button",xt,[i(r,{class:"text-xl",icon:"mdi:close"})])]),t("div",Ct,[t("div",Dt,[t("label",St,e(s(o)("Title")),1),_(t("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>n.value.title=a),type:"text",class:"input"},null,512),[[f,n.value.title]])]),t("div",$t,[t("label",At,e(s(o)("Icon")),1),t("input",{onInput:l[5]||(l[5]=a=>n.value.icon=a.target.files[0]),type:"file",name:"icon",class:"input"},null,32)]),t("div",It,[t("label",Mt,e(s(o)("Status")),1),_(t("select",{required:"","onUpdate:modelValue":l[6]||(l[6]=a=>n.value.status=a),class:"select",name:"status"},[t("option",Nt,e(s(o)("Active")),1),t("option",Vt,e(s(o)("Draft")),1)],512),[[g,n.value.status]])])]),t("div",Ft,[t("div",Tt,[t("button",Ut,[t("span",null,e(s(o)("Close")),1)]),i(w,{classes:"btn btn-primary w-full",processing:n.value.processing,"btn-text":s(o)("Update")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Lt as default};
